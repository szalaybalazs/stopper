const splitTemplate=(e,t)=>`\n        <div class="split">\n          <div class="index">#${e+1}</div>\n          <span class="tile">${t}</span>\n        </div>\n      `,historyTemplate=(e,t)=>`\n        <div class="history" onclick="_handleResume(${e})">\n          <span class="tile">${t}</span>\n          <span class="label">continue</span>\n        </div>\n      `,historyKey="@stopper.recents",formatNumber=(e,t=2)=>`00000000${e}`.slice(-t);let isRunning=!1,delta=0,_previous=0,splits=[],history=[];const _time=document.querySelector("#time"),_round=document.querySelector("#round"),_start=document.querySelector("#start"),_split=document.querySelector("#split"),_splits=document.querySelector("#splits"),_history=document.querySelector("#history"),_reset=document.querySelector("#reset"),_handleToggle=()=>{isRunning=!isRunning,isRunning&&_handleStart()},_handleReset=()=>{history.unshift(delta),_handleSaveHistory(),_handleHistoryUi(),delta=0,splits=[],isRunning=!1,_handleSplitUi(),_handleUiUpdate()},_handleResume=e=>{delta=e,isRunning=!0,_handleStart()},_handleStart=()=>{_previous=window.performance.now(),_handlePoll(),_handleSplitUi()},_handlePoll=()=>{if(isRunning){requestAnimationFrame(_handlePoll),_start.children[0].innerText=isRunning?"Pause":"Start",_start.className=isRunning?"start running":"start regular";const e=window.performance.now();delta+=e-_previous,_previous=e,_handleUiUpdate()}},_getTimeFormat=e=>{const t=e,n=t/1e3,i=n/60,s=i/60;return`${formatNumber(Math.floor(s))}:${formatNumber(Math.floor(i%60))}:${formatNumber(Math.floor(n%60))}:${formatNumber(Math.floor(t%1e3))}`},_handleAddSplit=()=>{splits.unshift(delta),_handleSplitUi(),_handleUiUpdate()};let _lastUpdate;const _handleUiUpdate=()=>{const e=Date.now();_lastUpdate+20>e||(_time.innerText=_getTimeFormat(delta),_round.innerText=_getTimeFormat(delta-(splits[0]||0)),_lastUpdate=e)},_handleSplitUi=()=>{const e=[...splits];_splits.innerHTML=e.reverse().map(((t,n)=>splitTemplate(n,_getTimeFormat(t-(e[n-1]||0))))).join("")},_handleHistoryUi=()=>{0!==history.length?_history.innerHTML=history.slice(0,10).map(((e,t)=>historyTemplate(e,_getTimeFormat(e)))).join(""):_history.innerHTML='<span class="empty">You have no recent timers</span>'},_handleLoadHistory=()=>{history=JSON.parse(localStorage.getItem(historyKey)||"[]")},_handleSaveHistory=()=>{localStorage.setItem(historyKey,JSON.stringify(history))};history=JSON.parse(localStorage.getItem(historyKey)||"[]"),_handleHistoryUi(),_start.addEventListener("click",_handleToggle),_reset.addEventListener("click",_handleReset),_split.addEventListener("click",_handleAddSplit);